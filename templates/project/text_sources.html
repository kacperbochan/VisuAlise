{% extends "base.html" %}

{% block title %}Data Save{% endblock %}

{% block content %}
<div>
    <div class="pt-5 px-5">
        <h2>
            Data Save
        </h2>
        <div class="header">

    </div>
    <hr class="bottomLine">
    <div class="dark-section">
        <div class="row">
            <div class="form-group">    
                <label for="text-area" style="font-weight: bold;">Text:</label>
                <textarea class="form-control" id="text-area" name="text-area" style="height: 70vh;">{{text}}</textarea>
            </div>
        </div>
        <div style="text-align: right;">
            <button class="generate" onclick="sendText()">Save Text</button>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    async function sendText() {
        const text = document.getElementById('text-area').value;


        const URL='/project/{{project.name}}/savetext';
        await fetch(URL, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/x-www-form-urlencoded'
            },
            body: new URLSearchParams({
                text: text
            })
        }).then(response => {
            if (response.status === 200) {
                window.alert('Data saved successfully');
            }
        });
    }
</script>
{% endblock %}
